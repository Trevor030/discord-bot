version: "3.8"

services:
  discord-bot:
    build: .
    container_name: discord-crafty-bot
    restart: unless-stopped
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      CRAFTY_CONTAINER: ${CRAFTY_CONTAINER:-big-bear-crafty}
      CRAFTY_URL: ${CRAFTY_URL}
      CRAFTY_API_KEY: ${CRAFTY_API_KEY}
      CRAFTY_SERVER_ID: ${CRAFTY_SERVER_ID}
      CRAFTY_INSECURE: ${CRAFTY_INSECURE:-1}
      ALLOWED_CHANNEL_ID: 1420794687714754712
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
